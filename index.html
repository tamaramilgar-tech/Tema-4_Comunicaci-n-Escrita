<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tema 4 Â· ComunicaciÃ³n escrita</title>

  <link rel="stylesheet" href="css/styles.css" />
  <link rel="icon" href="data:,">

  <!-- jsPDF -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>

  <!-- Scripts -->
  <script src="js/data.js" defer></script>
  <script src="js/teacher-gate.js" defer></script>
  <script src="js/certificate.js" defer></script>
  <script src="js/app.js" defer></script>
</head>

<body>
  <header class="header">
    <div class="container header__grid">
      <div class="header__copy">
        <div class="badge">
          <span class="badge__dot"></span>
          <span>FP GS Â· AdministraciÃ³n y Finanzas</span>
        </div>

        <h1>Tema 4 Â· ComunicaciÃ³n escrita âœï¸</h1>
        <p class="subtitle">
          Correos profesionales Â· Documentos Â· MensajerÃ­a interna Â· Buenas prÃ¡cticas
        </p>

        <div class="student">
          <label for="studentName">Nombre del alumno/a</label>
          <div class="student__row">
            <input id="studentName" type="text" placeholder="Escribe tu nombre completo" />
            <button class="btn btn--ghost" id="resetProgressBtn" title="Borra el progreso guardado en este navegador">
              ğŸ”„ Reiniciar
            </button>
          </div>
          <p class="hint">ğŸ“Œ El progreso se guarda en este navegador. Para pruebas, usa â€œReiniciarâ€ o modo incÃ³gnito.</p>
        </div>

        <div class="status">
          <div class="chip" id="phase1Badge">ğŸŸ¦ FASE 1: pendiente</div>
          <div class="chip" id="phase2Badge">ğŸ”’ FASE 2: bloqueada</div>
          <div class="chip" id="phase3Badge">ğŸ”’ FASE 3: bloqueada</div>
          <div class="chip" id="phase4Badge">ğŸ”’ FASE 4: bloqueada</div>
          <div class="chip" id="phase5Badge">ğŸ”’ FASE 5: bloqueada</div>
        </div>

        <nav class="tabs" aria-label="NavegaciÃ³n por fases">
          <button class="tab is-active" data-view="home">ğŸ  Inicio</button>
          <button class="tab" data-view="phase1">1ï¸âƒ£ Fase 1</button>
          <button class="tab" data-view="phase2" id="phase2Tab" disabled>2ï¸âƒ£ Fase 2</button>
          <button class="tab" data-view="phase3" id="phase3Tab" disabled>3ï¸âƒ£ Fase 3</button>
          <button class="tab" data-view="phase4" id="phase4Tab" disabled>4ï¸âƒ£ Fase 4</button>
          <button class="tab" data-view="phase5" id="phase5Tab" disabled>5ï¸âƒ£ Fase 5</button>
          <button class="tab" data-view="certificate" id="certTab" disabled>ğŸ… Certificado</button>
        </nav>
      </div>

      <div class="header__art" aria-hidden="true">
        <img src="assets/hero.svg" alt="" />
      </div>
    </div>
  </header>

  <main class="container main">
    <!-- HOME -->
    <section id="view-home" class="card">
      <div class="card__head">
        <h2>CÃ³mo funciona âœ…</h2>
        <p class="muted">Completa las fases con al menos un <strong>80%</strong> y verificaciÃ³n del docente para desbloquear el certificado.</p>
      </div>

      <div class="grid grid--3">
        <div class="mini">
          <div class="mini__icon">ğŸ“©</div>
          <h3>Escribe con claridad</h3>
          <p>Asunto, estructura, tono, ortografÃ­a y llamadas a la acciÃ³n.</p>
        </div>
        <div class="mini">
          <div class="mini__icon">ğŸ§¾</div>
          <h3>Documenta bien</h3>
          <p>Notas y mensajes internos con datos verificables y referencias.</p>
        </div>
        <div class="mini">
          <div class="mini__icon">ğŸ”</div>
          <h3>VerificaciÃ³n docente</h3>
          <p>Las fases 2â€“5 requieren cÃ³digo del docente para corregir el test.</p>
        </div>
      </div>

      <div class="divider"></div>

      <ol class="steps">
        <li><span class="steps__n">1</span> Realiza la prÃ¡ctica indicada por el docente (EVAGD).</li>
        <li><span class="steps__n">2</span> El docente verifica y te da un cÃ³digo para desbloquear la correcciÃ³n.</li>
        <li><span class="steps__n">3</span> Supera el test (mÃ­nimo 80%) para pasar a la siguiente fase.</li>
      </ol>

      <div class="actions">
        <button class="btn" id="startPhase1Btn">ğŸš€ Empezar Fase 1</button>
        <a class="btn btn--ghost" href="#tips">ğŸ’¡ Ver consejos</a>
      </div>

      <div id="tips" class="tips">
        <h3>Consejos rÃ¡pidos âœ¨</h3>
        <ul>
          <li>Usa asuntos claros: <em>â€œSolicitud de documentaciÃ³n Â· Expediente 123â€</em>.</li>
          <li>Evita MAYÃšSCULAS sostenidas (parece gritar).</li>
          <li>En mensajes internos: <strong>contexto + acciÃ³n + referencia + plazo</strong>.</li>
        </ul>
      </div>
    </section>

    <!-- FASE 1 -->
    <section id="view-phase1" class="card hidden">
      <div class="card__head">
        <h2>FASE 1 Â· Normas y estilo ğŸ“</h2>
        <p class="muted">Lee el contenido teÃ³rico (segÃºn indique el docente) y realiza el test.</p>
      </div>

      <div id="p1Quiz"></div>
      <div class="actions">
        <button class="btn" id="p1SubmitQuiz">âœ… Corregir</button>
        <div class="result" id="p1QuizResult"></div>
      </div>
    </section>

    <!-- FASE 2 -->
    <section id="view-phase2" class="card hidden">
      <div class="card__head">
        <h2>FASE 2 Â· Correo profesional ğŸ“§</h2>
        <p class="muted"><strong>Entrega obligatoria en EVAGD:</strong> redacta un correo profesional segÃºn el caso propuesto.</p>
      </div>

      <div class="teacher-gate">
        <div class="teacher-gate__title">
          <span>ğŸ”’</span><h3>VerificaciÃ³n del docente (obligatoria)</h3>
        </div>
        <p>Sube tu actividad en EVAGD. Cuando el docente verifique la entrega, te facilitarÃ¡ un cÃ³digo para desbloquear el test.</p>
        <div class="teacher-gate__row">
          <input id="p2CodeInput" type="text" maxlength="6" placeholder="CÃ³digo (6 caracteres)">
          <button class="btn btn--ghost" id="p2VerifyBtn">Validar</button>
        </div>
        <p id="p2GateMsg" class="hint"></p>
      </div>

      <div id="p2Quiz"></div>
      <div class="actions">
        <button class="btn" id="p2SubmitQuiz" disabled>âœ… Corregir</button>
        <div class="result" id="p2QuizResult"></div>
      </div>
      <p id="p2TestLockMsg" class="hint"></p>
    </section>

    <!-- FASE 3 -->
    <section id="view-phase3" class="card hidden">
      <div class="card__head">
        <h2>FASE 3 Â· Documento / plantilla ğŸ§¾</h2>
        <p class="muted"><strong>Entrega obligatoria en EVAGD:</strong> completa un documento o plantilla con datos correctos y ordenados.</p>
      </div>

      <div class="teacher-gate">
        <div class="teacher-gate__title">
          <span>ğŸ”’</span><h3>VerificaciÃ³n del docente (obligatoria)</h3>
        </div>
        <p>Sube tu actividad en EVAGD. Cuando el docente verifique la entrega, te facilitarÃ¡ un cÃ³digo para desbloquear el test.</p>
        <div class="teacher-gate__row">
          <input id="p3CodeInput" type="text" maxlength="6" placeholder="CÃ³digo (6 caracteres)">
          <button class="btn btn--ghost" id="p3VerifyBtn">Validar</button>
        </div>
        <p id="p3GateMsg" class="hint"></p>
      </div>

      <div id="p3Quiz"></div>
      <div class="actions">
        <button class="btn" id="p3SubmitQuiz" disabled>âœ… Corregir</button>
        <div class="result" id="p3QuizResult"></div>
      </div>
      <p id="p3TestLockMsg" class="hint"></p>
    </section>

    <!-- FASE 4 -->
    <section id="view-phase4" class="card hidden">
      <div class="card__head">
        <h2>FASE 4 Â· MensajerÃ­a interna / CRM ğŸ’¬</h2>
        <p class="muted"><strong>Entrega obligatoria en EVAGD:</strong> redacta un mensaje interno claro y accionable (contexto + acciÃ³n + plazo).</p>
      </div>

      <div class="teacher-gate">
        <div class="teacher-gate__title">
          <span>ğŸ”’</span><h3>VerificaciÃ³n del docente (obligatoria)</h3>
        </div>
        <p>Sube tu actividad en EVAGD. Cuando el docente verifique la entrega, te facilitarÃ¡ un cÃ³digo para desbloquear el test.</p>
        <div class="teacher-gate__row">
          <input id="p4CodeInput" type="text" maxlength="6" placeholder="CÃ³digo (6 caracteres)">
          <button class="btn btn--ghost" id="p4VerifyBtn">Validar</button>
        </div>
        <p id="p4GateMsg" class="hint"></p>
      </div>

      <div id="p4Quiz"></div>
      <div class="actions">
        <button class="btn" id="p4SubmitQuiz" disabled>âœ… Corregir</button>
        <div class="result" id="p4QuizResult"></div>
      </div>
      <p id="p4TestLockMsg" class="hint"></p>
    </section>

    <!-- FASE 5 -->
    <section id="view-phase5" class="card hidden">
      <div class="card__head">
        <h2>FASE 5 Â· EvaluaciÃ³n integradora ğŸ§ </h2>
        <p class="muted"><strong>Entrega obligatoria en EVAGD:</strong> completa la actividad integradora indicada por el docente.</p>
      </div>

      <div class="teacher-gate">
        <div class="teacher-gate__title">
          <span>ğŸ”’</span><h3>VerificaciÃ³n del docente (obligatoria)</h3>
        </div>
        <p>Sube tu evidencia en EVAGD. Cuando el docente verifique, te facilitarÃ¡ un cÃ³digo para desbloquear el test final.</p>
        <div class="teacher-gate__row">
          <input id="p5CodeInput" type="text" maxlength="6" placeholder="CÃ³digo (6 caracteres)">
          <button class="btn btn--ghost" id="p5VerifyBtn">Validar</button>
        </div>
        <p id="p5GateMsg" class="hint"></p>
      </div>

      <div class="grid grid--3">
        <div class="mini">
          <div class="mini__icon">ğŸ§©</div>
          <h3>Actividad 1</h3>
          <p>Ordena la estructura correcta de un correo.</p>
          <div id="p5Act1"></div>
          <button class="btn btn--ghost" id="p5Act1Check">Comprobar</button>
          <p class="hint" id="p5Act1Msg"></p>
        </div>

        <div class="mini">
          <div class="mini__icon">ğŸ”</div>
          <h3>Actividad 2</h3>
          <p>Empareja concepto â†” definiciÃ³n.</p>
          <div id="p5Act2"></div>
          <button class="btn btn--ghost" id="p5Act2Check">Comprobar</button>
          <p class="hint" id="p5Act2Msg"></p>
        </div>

        <div class="mini">
          <div class="mini__icon">âœ…</div>
          <h3>Actividad 3</h3>
          <p>Elige la mejor redacciÃ³n profesional.</p>
          <div id="p5Act3"></div>
          <button class="btn btn--ghost" id="p5Act3Check">Comprobar</button>
          <p class="hint" id="p5Act3Msg"></p>
        </div>
      </div>

      <div class="divider"></div>

      <h3>Test final (15 preguntas) ğŸ§¾</h3>
      <div id="p5Quiz"></div>
      <div class="actions">
        <button class="btn" id="p5SubmitQuiz" disabled>âœ… Corregir</button>
        <div class="result" id="p5QuizResult"></div>
      </div>
      <p id="p5TestLockMsg" class="hint"></p>
    </section>

    <!-- CERTIFICADO -->
    <section id="view-certificate" class="card hidden">
      <div class="card__head">
        <h2>Certificado ğŸ…</h2>
        <p class="muted">Incluye: nombre, unidad, resultados (%) y fecha.</p>
      </div>
      <p><strong>Requisito:</strong> fases completadas + verificaciÃ³n docente + nota mÃ­nima.</p>
      <button class="btn" id="downloadCertBtn" disabled>â¬‡ï¸ Descargar PDF</button>
    </section>

    <footer class="footer">
      <p class="muted">Hecho con â¤ï¸ para practicar comunicaciÃ³n escrita. (GitHub Pages)</p>
    </footer>
  </main>
</body>
</html>
